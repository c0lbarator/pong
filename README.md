# Pong Game with Leaderboard

Это улучшенная версия классической игры Pong с системой таблицы лидеров, которая сохраняет имена игроков, счет и время игры с использованием Deno KV.

## Локальный запуск

### 1. Запуск Deno server

Для лидерборда необходим Deno server, а ещё через него можно одной командой запустить и фронт, и бэк


\`\`\`bash
# Установите Deno, если ещё этого не сделали
# На macOS, Linux:
curl -fsSL https://deno.land/x/install/install.sh | sh

# На Windows (через PowerShell):
iwr https://deno.land/x/install/install.ps1 -useb | iex

# Запустите сервер
deno run --allow-net --allow-read --unstable-kv server.ts
\`\`\`

Сервер будет запущен по умолчанию по адресу http://localhost:8000.

## Как играть

1. Выберите режим игры (1 игрок или 2 игрока)
2. Выберите сложность(если режим игры с ботом)
3. Запустите игру
4. Управление:
   - Игрок 1 (левый): W (вверх) и S (вниз)
   - Игрок 2 (правый): Стрелка вверх и стрелка вниз
   - Нажмите ESC чтобы поставить игру на паузу
   - В меню паузы можно настроить скорость ракеток
   - На мобильный устройствах управление делается через свайпы ракетки, меню паузы открывается по кнопке
5. Введите своё имя для сохранения результата в лидерборде

## Страницы

- **Главная страница (index.html)**: интерфейс игры
- **Лидерборд (leaderboard.html)**: View all saved game results with filtering and sorting options Посмотреть все сохранённые результы в игре с фильтрацией по сложности и режиму игры
- **Об игре (about.html)**: Information about the game, how to play, and technical details Информация об игре, управлении в игре и технических деталях реализации


## Структура скриптов

### server.js
Серверная часть на Deno для хранения и получения результатов игр:
- Обрабатывает API-запросы для сохранения результатов игр
- Обрабатывает API-запросы для получения данных таблицы лидеров
- Использует Deno KV для хранения данных

### main.js
Основной скрипт, инициализирующий игру:
- Создает экземпляры классов Game и Leaderboard
- Настраивает обработчики событий для кнопок меню
- Управляет переключением между режимами игры
- Обрабатывает настройки скорости ракеток
- Обеспечивает звуковое сопровождение с помощью JS Web Audio API

### game.js
Основной класс игры, управляющий игровым процессом:
- Инициализирует игровой холст и контекст
- Управляет игровым циклом и обновлением состояния
- Обрабатывает ввод с клавиатуры и сенсорного экрана
- Обнаруживает столкновения мяча с ракетками и стенами
- Управляет счетом и определяет окончание игры
- Сохраняет результаты игры на сервере
- Управляет меню паузы и настройками скорости ракеток

### paddle.js
Класс для ракеток игроков:
- Управляет положением и размером ракеток
- Обрабатывает движение ракеток
- Позволяет настраивать скорость движения ракеток
- Отрисовывает ракетки на холсте

### ball.js
Класс для игрового мяча:
- Управляет положением, скоростью и направлением мяча
- Обновляет положение мяча в каждом кадре
- Сбрасывает мяч в центр после забитого гола
- Отрисовывает мяч на холсте

### ai.js
Класс для управления компьютерным противником:
- Реализует "искусственный интеллект" для управления ракеткой компьютера
- Имеет различные уровни сложности (легкий, средний, сложный)
- Адаптирует скорость и точность реакции в зависимости от сложности
- Поддерживает динамическую сложность, которая меняется во время игры
- На лёгком и среднем уровне движется в сторону мяча с заданной задержкой и погрешностью, на сложном уровне просчитывает конечное положение мяча, погрешность уже меньше

### score.js
Класс для управления счетом игры:
- Отслеживает счет обоих игроков
- Предоставляет методы для увеличения и сброса счета
- Определяет победителя на основе счета

### leaderboard.js
Класс для управления таблицей лидеров:
- Загружает данные таблицы лидеров с сервера
- Отображает результаты в таблице
- Обрабатывает фильтрацию и сортировку результатов по различным столбцам
- Управляет интерфейсом таблицы лидеров

## Мобильная поддержка

Игра полностью поддерживает мобильные устройства:
- Адаптивный дизайн для различных размеров экрана
- Сенсорное управление для перемещения ракеток
- Специальные кнопки для паузы и полноэкранного режима на мобильных устройствах